var tools=function(e){return e.hasClass=function(e,t){return e.className.match(new RegExp("(^|\\s)"+t+"(\\s|$)"))},e.addClass=function(e,t){this.hasClass(e,t)||(e.className+="  "+t)},e.removeClass=function(e,t){var s=new RegExp("(^|\\s)"+t+"(\\s|$)");this.hasClass(e,t)&&(e.className=e.className.replace(s,""))},e.toggleClass=function(e,t){return this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.ajax=function(e){var t,s,n;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObiect("Microsoft.XMLHTTP"),t.open(e.type,e.url,!0),s=e.success,n=e.fail,t.onreadystatechange=function(){4===t.readyState&&200===t.status?s(t):n&&n()},"POST"===e.type?(t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(e.data))):t.send(null)},e.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]},e.transition=function(e,t,s){var n=s||3e3;e.style.transition="all "+n/1e3+"s ease",tools.toggleClass(e,t),setTimeout(function(){tools.toggleClass(e,t)},n),setTimeout(function(){tools.toggleClass(e,"hide")},n)},e}(window.tools||{});!function(e,t,s){var n=e.querySelector(".signin"),a={toSignin:function(){var t=e.querySelector("#name"),n=e.querySelector("#password"),a=e.querySelector(".warning");if(""===t.value||""===n.value)return a.innerText="Can not submit with empty value!",s.addClass(a,"show-warning"),!1;var o=e.querySelector(".submit i");o.className="fa fa-circle-o-notch fa-spin fa-3x fa-fw",s.ajax({type:"POST",url:"/to-signin",data:{name:t.value,password:n.value},success:function(e){var t=JSON.parse(e.responseText);"success"===t.status?window.location="/do-manage":(o.className="fa fa-chevron-right",a.innerText="Username and password do not match",s.addClass(a,"show-warning"))}})}};n.addEventListener("submit",function(e){e.preventDefault(),a.toSignin()},!1)}(document,window,tools);